import{j as s,F as p,a as d,r as l,L as w}from"./index-414cb90d.js";import{h as N,e as E}from"./moment-8284f84e.js";const M="_header_xh41z_1",m={header:M,"page-header":"_page-header_xh41z_5","project-tagline":"_project-tagline_xh41z_12","project-name":"_project-name_xh41z_33"};function L(){return s(p,{children:s("div",{className:m.header,children:d("header",{className:m["page-header"],role:"banner",children:[s("h1",{className:m["project-name"],children:"Welcome to GitHub Pages"}),s("h2",{className:m["project-tagline"],children:"“物理学不存了”"})]})})})}const T={};N.updateLocale("cn",{relativeTime:{future:"%s",past:"%s",s:"%d 秒前",ss:"%d 秒前",m:"%d 分钟前",mm:"%d 分钟前",h:"%d 个小时前",hh:"%d 个小时前",d:"%d 天前",dd:"%d 天前",M:"%d 个月前",MM:"%d 个月前",y:"%d 年前",yy:"%d 年前"}});function C(c){const{id:e,defaultValue:t,current:r,pageSize:n}=c,{userInfo:a,docs:i}=t;return l.useEffect(()=>{var u;e&&((u=document.querySelector(`#to-${e}`))==null||u.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},[e]),s(p,{children:s("div",{className:"m-6 mx-auto w-11/12 rounded-2xl bg-[aliceblue] p-6 lg:w-1/2",children:d(w,{id:`to-${i==null?void 0:i.id}`,to:`/docs/${i==null?void 0:i.id}?current=${r}&pageSize=${n}`,children:[d("div",{className:"flex w-full content-center items-center",children:[s("div",{className:"mr-4 h-16 w-16 rounded-full bg-black/[.05] p-2",children:s("img",{className:"h-auto w-full rounded-full",src:a==null?void 0:a.avatar,alt:""})}),d("div",{className:"flex-auto",children:[s("span",{children:a==null?void 0:a.username}),d("span",{className:"text-xs text-[#707070]",children:["·",N(i==null?void 0:i.createTime).fromNow()]})]})]}),s("div",{className:`${T.list} py-2 pl-20 text-sm`,children:i==null?void 0:i.title})]})})})}const q="_content_humv3_1",A="_pagination_humv3_1",x={content:q,pagination:A};class H{constructor(e){this.id=e.id||"",this.current=e.props.current||1,this.total=e.props.total||100,this.pageSize=e.props.pageSize||2,this.onchange=e.props.onChange||null,this.pageNumber=5,this.totalPage=Math.ceil(this.total/this.pageSize),this.init()}init(){this.handle(),this.total!==0&&this.loadPage()}handle(){this.container=document.querySelector("#"+this.id),this.container.onclick=e=>{var t=e||window.event,r=t.target||t.srcElement;r.getAttribute("data-page")&&r.getAttribute("class").indexOf("disabled")==-1&&(this.current=parseInt(r.getAttribute("data-page")),this.loadPage(),this.onchange({current:this.current,pageSize:this.pageSize}))}}callback_handle(){this.container.querySelector(".skip-input").addEventListener("keyup",e=>{var t=e||window.event,r=t.target||t.srcElement;if(e.keyCode===13){let n=parseInt(r.value);this.current=n>this.totalPage?this.totalPage:n,this.loadPage(),this.onchange({current:this.current,pageSize:this.pageSize})}})}loadPage(){this.container.innerHTML="";let e="",t=this.current>this.totalPage?this.totalPage:this.current;const r=t===1?"disabled":"",n=t===1?1:t-1;if(e+=`<span class="count">共 ${this.total} 条</span>`,e+=`<a href="javascript:;" class='${r}' data-page="1">首页</a>
        <a href="javascript:;" class='${r}' data-page=${n}>上一页</a>`,this.totalPage<=this.pageNumber)for(let a=1;a<=this.totalPage;a++)e+=`<a class='${a==t?"acive":""}' data-page=${a} >${a}</a>`;else if(t<this.pageNumber){for(let a=1;a<=this.pageNumber;a++)e+=`<a class='${a==t?"acive":""}' data-page=${a} > ${a} </a>`;e+='<a class="disabled">...</a>'}else if(e+='<a class="disabled">...</a>',t<this.totalPage-4){for(let a=t-2;a<=t+2;a++)e+=`<a class='${a==t?"acive":""}' data-page=${a} >${a}</a>`;e+='<a class="disabled">...</a>'}else if(this.totalPage-t<this.pageNumber)for(let a=t-(this.pageNumber-(this.totalPage-t)-1);a<=t+(this.totalPage-t);a++)e+=`<a class='${a==t?"acive":""}' data-page=${a} >${a}</a>`;e+=`<a href="javascript:;" class='${t===this.totalPage?"disabled":""}' data-page=${t==this.totalPage?this.totalPage:t+1} >下一页</a>
        <a href="javascript:;" class='${t===this.totalPage?"disabled":""}' data-page=${this.totalPage} >尾页</a>`,e+=`<span class="skip"> 到第<input type="text" min="1" value="${t}" class="skip-input">页</span>`,this.container.innerHTML=`<div class="js_Page">${e}</div>`,this.callback_handle()}}const $="id111";function I(c){return l.useEffect(()=>{new H({id:$,props:c})},[$,c]),s(p,{children:s("div",{id:$})})}function V(c){const{id:e,currents:t,pageSizes:r,data:n}=c,a=l.useRef(!1),[i,u]=l.useState([]),[f,_]=l.useState(t||1),[S,j]=l.useState(r||5),[y,v]=l.useState(1);l.useState(!1),l.useState(!1),l.useEffect(()=>{var o,h;u(((o=n==null?void 0:n.data)==null?void 0:o.data)||[]),v(((h=n==null?void 0:n.data)==null?void 0:h.total)||0)},[n]),l.useEffect(()=>{if(!a.current){a.current=!0;return}P({current:f,pageSize:S})},[]);const P=({current:o,pageSize:h})=>{E({current:o,pageSize:h}).then(g=>{var b,z;u((b=g==null?void 0:g.data)==null?void 0:b.data),v((z=g==null?void 0:g.data)==null?void 0:z.total),scrollTo(0,0)})},k=({current:o,pageSize:h})=>{_(o),j(h),P({current:o,pageSize:h})};return s(p,{children:d("div",{className:`${x.content} pt-2`,children:[s("ul",{children:i==null?void 0:i.map((o,h)=>s("li",{children:s(C,{id:e,current:f,pageSize:S,defaultValue:o})},h))}),s("div",{className:x.pagination,children:s(I,{current:f,pageSize:5,total:y,onChange:k})})]})})}function D(){const c=localStorage.getItem("id"),e=localStorage.getItem("current")||1,t=localStorage.getItem("pageSize")||5;return d(p,{children:[s(L,{}),s(V,{id:c,currents:+e,pageSizes:+t})]})}export{D as default};
